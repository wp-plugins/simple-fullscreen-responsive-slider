/*
 * EASYFADER - An Ultralight Fading Slideshow For Responsive Layouts
 * Version: 2.0.5
 * License: Creative Commons Attribution 3.0 Unported - CC BY 3.0
 * http://creativecommons.org/licenses/by/3.0/
 * This software may be used freely on commercial and non-commercial projects with attribution to the author/copyright holder.
 * Author: Patrick Kunka
 * Copyright 2013 Patrick Kunka, All Rights Reserved
 */

(function(e){function t(e){var t=["Webkit","Moz","O","ms"];for(var n=0;n<t.length;n++){if(t[n]+"Transition"in e.style){return"-"+t[n].toLowerCase()+"-"}}return"transition"in e.style?"":false}e.fn.removeStyle=function(t){return this.each(function(){var n=e(this);t=t.replace(/\s+/g,"");var r=t.split(",");e.each(r,function(){var e=new RegExp(this.toString()+"[^;]+;?","g");n.attr("style",function(t,n){if(n)return n.replace(e,"")})});if(typeof n.attr("style")!=="undefined"){var i=e.trim(n.attr("style").replace(/\s{2,}/g," "));n.attr("style",i);if(i==""){n.removeAttr("style")}}})};EasyFader=function(){this.slideDur=7e3,this.effectDur=800,this.onChangeStart=null,this.onChangeEnd=null,this.slideSelector=".slide",this.changing=false,this.effect="fade",this.pagerListClass="pager-list",this.fadeOnLoad=true,this.firstLoad=true,this.autoCycle=true,this.slideTimer=null,this.activeIndex=null,this.newSlide=null,this.$slides=null,this.totalSlides=null,this.$pagerList=null,this.$pagers=null};EasyFader.prototype={constructor:EasyFader,instances:{},init:function(n,r){var i=this;if(r){e.extend(i,r)}i.$container=e(n);i.$slides=i.$container.find(i.slideSelector);i.totalSlides=i.$slides.length;i.$pagerList=i.$container.find("."+i.pagerListClass);i.prefix=e.support.leadingWhitespace?t(i.$container[0]):false;if(i.totalSlides>1){for(var s=0;s<i.totalSlides;s++){i.$pagerList.append('<li class="pager" data-target="'+s+'">'+(s+1)+"</li>")}i.bindHandlers()}if(typeof i[i.effect+"Init"]!=="undefined"){i[i.effect+"Init"]()}if(!i.activeIndex){i.activeIndex=0}i.updateInfo();i.$pagers=i.$pagerList.find(".pager");i.$pagers.eq(i.activeIndex).addClass("active");if(i.fadeOnLoad){i.fadeSlides(i.activeIndex+1,0)}else if(i.autoCycle&&i.totalSlides>1){i.waitForNext()}},updateInfo:function(){var e=this;e.info={$container:e.$container,effect:e.effect,activeIndex:e.activeIndex,$activeSlide:e.$slides.eq(e.activeIndex),totalSlides:e.$slides.length}},bindHandlers:function(){var e=this;for(key in e.handlers){e.handlers[key].apply(e)}},handlers:{"default":function(){var t=this;t.$container.find(".pager").on("click",function(){var n=e(this).attr("data-target");clearTimeout(t.slideTimer);t._changeSlides(n)});e(window).on("keydown",function(e){var n=e.keyCode;if(n==39||n==37){var r=n==39?"next":"prev";clearTimeout(t.slideTimer);t._changeSlides(r)}})}},cleanUp:function(e,t){var n=this;if(n.firstLoad&&n.fadeOnLoad){n.fadeCleanUp(e,t)}else{n[n.effect+"CleanUp"](e,t)}n.activeIndex=t;n.changing=false;n.updateInfo();if(typeof n.callback=="function"){n.callback.call(this,n.info);delete n.callback}if(typeof n.onChangeEnd=="function"){n.onChangeEnd.call(this,n.info)}n.firstLoad=false;if(n.autoCycle){n.waitForNext()}},fadeCleanUp:function(t,n){var r=this,i=r.$slides.eq(t);!e.support.opacity?i.removeAttr("style"):i.removeStyle("opacity, z-index");r.$slides.eq(n).removeStyle(r.prefix+"transition, transition")},animateSlides:function(e,t){var n=this;if(n.changing){return false}n.changing=true;n.$pagers.removeClass("active").eq(n.newSlide).addClass("active");if(typeof n.onChangeStart=="function"&&!n.firstLoad){n.onChangeStart.call(this,n.info)}n[n.effect+"Slides"](e,t)},fadeSlides:function(e,t){var n=this;n.$slides.eq(e).css("z-index",2);n.$slides.eq(t).css("z-index",3);if(!n.prefix){n.$slides.eq(t).animate({opacity:1},n.effectDur,function(){n.cleanUp(e,t)})}else{var r={};r[n.prefix+"transition"]="opacity "+n.effectDur+"ms";r["opacity"]=1;n.$slides.eq(t).css(r);var i=setTimeout(function(){n.cleanUp(e,t)},n.effectDur)}},_changeSlides:function(e){var t=this;if(e=="next"){t.newSlide=t.activeIndex*1+1;if(t.newSlide>t.totalSlides-1){t.newSlide=0}}else if(e=="prev"){t.newSlide=t.activeIndex*1-1;if(t.newSlide<0){t.newSlide=t.totalSlides-1}}else{t.newSlide=e}t.animateSlides(t.activeIndex,t.newSlide)},waitForNext:function(){var e=this;e.slideTimer=setTimeout(function(){e._changeSlides("next")},e.slideDur)},getPrefixedCSS:function(e,t,n){var r=this,s={};for(i=0;i<2;i++){var o=i==0?r.prefix:"";n?s[o+e]=o+t:s[o+e]=t}return s},pause:function(){var e=this;clearTimeout(e.slideTimer)},play:function(e){var t=this;if(t.autoCycle){e?t.waitForNext():t._changeSlides("next")}},changeSlides:function(e,t){var n=this;n.callback=t;e=typeof e!=="undefined"?e:"next";clearTimeout(n.slideTimer);n._changeSlides(e)},getOption:function(e){var t=this;return t[e]},setOptions:function(t){var n=this;e.extend(n,t)}};e.fn.easyFader=function(){var e=arguments,t=function(){return("00000"+(Math.random()*16777216<<0).toString(16)).substr(-6).toUpperCase()},n=[],r;r=this.each(function(){if(e&&typeof e[0]==="string"){var r=EasyFader.prototype.instances[this.id][e[0]](e[1],e[2]);if(r)n.push(r)}else{this.id=!this.id?"EasyFader"+t():this.id;var i=new EasyFader;if(!i.instances[this.id]){i.instances[this.id]=i;i.init(this,e[0])}}});if(n.length){return n.length>1?n:n[0]}else{return r}}})(jQuery);(function(e){if(typeof EasyFader==="function"){e.extend(EasyFader.prototype,{slideSlides:function(e,t){var n=this,r=n.$slides.eq(e),i=n.$slides.eq(t),s=r.add(i),o=e<t?"-100%":"100%",u=e<t?"100%":"-100%";if(t==0&&e==n.$slides.length-1){o="-100%",u="100%"}if(e==0&&t==n.$slides.length-1){o="100%",u="-100%"}if(!n.prefix){i.css({left:u,opacity:1,zIndex:3}).animate({left:0},n.effectDur);r.animate({left:o},n.effectDur,function(){n.cleanUp(e,t)})}else{function a(){var r=false;s.css(n.getPrefixedCSS("transition","transform "+n.effectDur+"ms ease-in-out",true)).bind("webkitTransitionEnd transitionend",function(i){if((i.originalEvent.propertyName=="transform"||n.prefix+"transform")&&!r){r=true;n.cleanUp(e,t)}});setTimeout(function(){f()},20)}function f(){r.css(n.getPrefixedCSS("transform","translate3d("+o+",0,0)"));i.css(n.getPrefixedCSS("transform","translate3d(0,0,0)"))}i.css({opacity:1,zIndex:3}).css(n.getPrefixedCSS("transform","translate3d("+u+",0,0)"));setTimeout(function(){a()},20)}},slideCleanUp:function(e,t){var n=this,r=n.$slides.eq(e),i=n.$slides.eq(t),s=r.add(i);if(!n.prefix){s.removeStyle("left")}else{s.unbind("webkitTransitionEnd transitionend").removeStyle(n.prefix+"transition, "+n.prefix+"transform, transition, transform")}r.removeStyle("opacity, z-index")}})}else{console.error("EasyFader core not found")}})(jQuery)